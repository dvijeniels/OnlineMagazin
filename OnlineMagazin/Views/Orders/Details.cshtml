@model OnlineMagazin.Models.OrderDetails

@{
    ViewData["Title"] = "Детали заказа";
    Layout = "~/Views/Shared/_Admin.cshtml";
}

<div style="margin-left:1%">
    <br />
    <h5 style="margin-left:40%">Детали заказа</h5>
    <hr />
    <dl class="row">
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.OrderNumber)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.OrderNumber)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.FirstAndLastName)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.FirstAndLastName)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.PhoneNumber)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.PhoneNumber)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Region)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Region)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.City)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.City)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Address)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Address)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Address2)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Address2)
        </dd>


        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Status)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Status)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.BuyingType)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.BuyingType)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Comment)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Comment)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.CreatedDate)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.CreatedDate)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.OrderDate)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.OrderDate)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.InOrder)
        </dt>
        <dd class="col-sm-10">
            @if (Model.InOrder)
            {
                <h6>Заказ выполнен</h6>
            }
            else
            {
                <h6>Ожидается</h6>
            }
        </dd>

    </dl>
</div>
<div class="row">
    <div class="col-md-6 col-xs-12">
        <fieldset id="account">
            <legend>Товары</legend>
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <td class="text-left">Картинка</td>
                        <td class="text-left">Название товара</td>
                        <td class="text-right">Количество</td>
                        <td class="text-right">Стоимость</td>
                        <td class="text-right">Общая стоимость</td>
                    </tr>
                </thead>

                @foreach (var item in Model.OrderDetailLines)
                {
                    <tbody>
                        <tr>
                            <td class="text-left">
                                <div class="product-img">
                                    <a href="/Home/ProductDetail/@item.ProductId">
                                        <img class="primary-img" src="~/image/@item.Foto" alt="Product" width="100" height="100">
                                    </a>
                                </div>
                            </td>
                            <td class="text-left"><label style="color:black">@item.ProductName</label></td>
                            <td class="text-left"><label style="color:black">@item.qty</label></td>
                            <td class="text-left"><label style="color:black">@item.Price</label></td>
                            <td class="text-left"><label style="color:black">@(item.qty*item.Price)</label></td>
                        </tr>

                    </tbody>
                }
                <tbody class="text-right">
                    <tr>
                        <td class="text-right">
                            <strong>Итог:</strong>
                        </td>
                        <td class="text-right">$@ViewBag.totalProductPrice</td>
                    </tr>
                    <tr>
                        <td class="text-right">
                            <strong>Общий итог:</strong>
                        </td>
                        <td class="text-right">$@ViewBag.totalProductPrice (c учётом НДС)</td>
                    </tr>
                </tbody>

            </table>
        </fieldset>
    </div>
</div>
<div style="margin-left:1%">
    <a asp-action="Edit" class="btn btn-outline-dark mb-3" asp-route-id="@Model.OrderId">Изменить</a> |
    <a class="btn btn-outline-secondary mb-3" asp-action="Index"><i class="ti-arrow-left">  Вернуться в список</i></a>
</div>
     </div>