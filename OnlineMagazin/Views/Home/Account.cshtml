@model OnlineMagazinUser
@using Microsoft.AspNetCore.Http
@using Microsoft.AspNetCore.Identity
@using OnlineMagazin.Areas.Identity.Data
@inject UserManager<OnlineMagazinUser> UserManager
@{
    ViewData["Title"] = "Account";
    Layout = "~/Views/Shared/_Home.cshtml";
}

<section class="page-content">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <ul class="page-menu">
                    <li><a href="/Home/HomeIndex">Главная</a></li>
                    <li class="active"><a href="/Home/Account">Мой аккаунт</a></li>
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="col-md-3">
                @await Component.InvokeAsync("CategoryList")
            </div>
            <div class="col-md-9">
                <div class="product-title">
                    <h3 class="title-group-3 gfont-1" style="font-weight:700">Мой аккаунт</h3>
                </div>
                <div class="checkout-area">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="panel-group" id="accordion">
                                <div class="panel panel_default">
                                    <div class="panel-heading">
                                        <h4 class="panel-title">
                                            <a class="accordion-trigger" data-toggle="collapse" data-parent="#accordion" href="#payment-address">Мои данные<i class="fa fa-caret-down"></i> </a>
                                        </h4>
                                    </div>
                                    <div id="payment-address" class="collapse">
                                        <div class="panel-body">
                                            <div class="row">
                                                <div class="col-md-6 col-xs-12">
                                                    <fieldset id="account">
                                                        <legend>Ваши персональные данные</legend>
                                                        <div class="form-group">
                                                            <label>ФИО</label>
                                                            @Html.DisplayFor(model => model.FirstAndLastName)
                                                        </div>
                                                        <div class="form-group">
                                                            <label>E-mail</label>
                                                            @Html.DisplayFor(model => model.Email)
                                                        </div>
                                                        <div class="form-group">
                                                            <label><sup>*</sup>Телефон</label>
                                                            @Html.DisplayFor(model => model.PhoneNumber)
                                                        </div>
                                                    </fieldset>
                                                    <fieldset>
                                                        <legend>Дополнительная информация</legend>
                                                        @Html.DisplayFor(model => model.Description)
                                                    </fieldset>
                                                </div>
                                                <div class="col-md-6 col-xs-12">
                                                    <fieldset id="address">
                                                        <legend>Ваш адрес</legend>
                                                        <div class="form-group">
                                                            <label><sup>*</sup>Адрес</label>
                                                            @Html.DisplayFor(model => model.Address)
                                                        </div>
                                                        <div class="form-group">
                                                            <label>Адрес 2</label>
                                                            @Html.DisplayFor(model => model.Address2)
                                                        </div>
                                                        <div class="form-group">
                                                            <label><sup>*</sup>Дата рождения</label>
                                                            @Html.DisplayFor(model => model.BirthDate)
                                                        </div>
                                                        <div class="form-group">
                                                            <label><sup>*</sup>Область</label>
                                                            @Html.DisplayFor(model => model.Region)
                                                        </div>
                                                        <div class="form-group">
                                                            <label><sup>*</sup>Город</label>
                                                            @Html.DisplayFor(model => model.City)
                                                        </div>
                                                        <div class="form-group">
                                                            <label><sup>*</sup>Фото</label>
                                                            <img src="@("~/image/"+Model.Foto)" asp-append-version="true" width="200" height="200" />
                                                        </div>
                                                    </fieldset>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-xs-12">
                                                    <div class="buttons clearfix">
                                                        <div class="pull-right">
                                                            <a asp-controller="Home" asp-action="AccountEdit" asp-route-id="@UserManager.GetUserId(User)" class="btn btn-primary">Изменить</a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                @await Component.InvokeAsync("OrderHistory")
                            </div>
                        </div>
                    </div>
                </div>
                <div class="my-account-area">
                    <div class="row">
                        <div class="col-md-6">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>